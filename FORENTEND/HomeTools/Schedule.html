<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../CSSPAge/SchedulePage.css" rel="stylesheet">
    <title>Todo List - Schedule</title>
</head>

<body>
    <!-- Sidebar with navigation icons -->
    <div class="SiderBar">
        <img class="nav-icon" src="https://img.icons8.com/3d-fluency/375/home.png" alt="home" title="Home" onclick="navigateTo('Home.html')" />
        <img class="nav-icon" src="https://img.icons8.com/cute-clipart/64/overtime.png" alt="tasks" title="WorkSpace" onclick="navigateTo('WorkSpace.html')" />
        <img class="nav-icon active" src="https://img.icons8.com/3d-fluency/94/tear-off-calendar.png" alt="calendar" title="Schedule" onclick="navigateTo('Schedule.html')" />
        <img class="nav-icon" src="https://img.icons8.com/3d-fluency/94/admin-settings-male.png" alt="admin" title="Admin Dashboard" onclick="navigateTo('Admin.html')" />
        <img class="nav-icon" src="https://img.icons8.com/3d-fluency/94/gear--v1.png" alt="settings" title="Settings" onclick="navigateTo('Settings.html')" />
    </div>

    <!-- Main content area -->
    <div class="main-content">
        <div class="header">
            <h1>üìÖ Schedule</h1>
            <p>Plan your day and manage your time effectively!</p>
        </div>
        
        <div class="schedule-container">
            <!-- Animated Wall Clock -->
            <div class="clock-container">
                <div class="analog-clock">
                    <div class="clock-face">
                        <div class="hour-markers">
                            <div class="marker hour-12">12</div>
                            <div class="marker hour-3">3</div>
                            <div class="marker hour-6">6</div>
                            <div class="marker hour-9">9</div>
                        </div>
                        <div class="clock-hands">
                            <div class="hand hour-hand" id="hourHand"></div>
                            <div class="hand minute-hand" id="minuteHand"></div>
                            <div class="hand second-hand" id="secondHand"></div>
                            <div class="center-dot"></div>
                        </div>
                    </div>
                    <div class="digital-time" id="digitalTime">00:00:00</div>
                </div>
            </div>

            <div class="calendar-section">
                <div class="calendar-header">
                    <button class="nav-btn" id="prevMonth">‚ùÆ</button>
                    <h2 id="currentMonth" class="month-title">October 2025</h2>
                    <button class="nav-btn" id="nextMonth">‚ùØ</button>
                </div>
                
                <div class="calendar-container">
                    <div class="calendar-weekdays">
                        <div class="weekday">Sunday</div>
                        <div class="weekday">Monday</div>
                        <div class="weekday">Tuesday</div>
                        <div class="weekday">Wednesday</div>
                        <div class="weekday">Thursday</div>
                        <div class="weekday">Friday</div>
                        <div class="weekday">Saturday</div>
                    </div>
                    
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar days will be generated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="schedule-sidebar">
                <div class="today-tasks">
                    <h3><i class="task-icon">üìÖ</i> Today's Tasks</h3>
                    <div class="task-time">
                        <span class="time">9:00 AM</span>
                        <span class="task">Team Meeting</span>
                        <span class="priority high">High</span>
                    </div>
                    <div class="task-time">
                        <span class="time">2:00 PM</span>
                        <span class="task">Project Review</span>
                        <span class="priority medium">Med</span>
                    </div>
                    <div class="task-time">
                        <span class="time">4:30 PM</span>
                        <span class="task">Client Call</span>
                        <span class="priority high">High</span>
                    </div>
                </div>
                
                <div class="add-event">
                    <h3><i class="task-icon">‚ûï</i> Add New Event</h3>
                    <div class="input-group">
                        <input type="text" placeholder="Event title" id="eventTitle">
                        <input type="time" id="eventTime">
                        <select id="eventPriority">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                        <button class="add-btn" id="addEvent">
                            <span class="btn-text">Add Event</span>
                            <span class="btn-icon">‚ú®</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation function
        function navigateTo(page) {
            window.location.href = page;
        }

        // Animated Clock Function
        function updateClock() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            const milliseconds = now.getMilliseconds();

            // Calculate angles for hands (including smooth second hand with milliseconds)
            const hourAngle = (hours % 12) * 30 + (minutes / 60) * 30 + (seconds / 3600) * 30;
            const minuteAngle = minutes * 6 + (seconds / 60) * 6;
            const secondAngle = seconds * 6 + (milliseconds / 1000) * 6;

            // Update hand positions with smooth transitions
            const hourHand = document.getElementById('hourHand');
            const minuteHand = document.getElementById('minuteHand');
            const secondHand = document.getElementById('secondHand');

            if (hourHand) hourHand.style.transform = `rotate(${hourAngle}deg)`;
            if (minuteHand) minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
            if (secondHand) {
                // Remove transition for second hand to avoid jumpiness at 0 seconds
                if (seconds === 0 && milliseconds < 100) {
                    secondHand.style.transition = 'none';
                    secondHand.style.transform = `rotate(${secondAngle}deg)`;
                    // Re-enable transition after a brief moment
                    setTimeout(() => {
                        secondHand.style.transition = 'transform 0.1s ease-out';
                    }, 100);
                } else {
                    secondHand.style.transition = 'transform 0.1s ease-out';
                    secondHand.style.transform = `rotate(${secondAngle}deg)`;
                }
            }

            // Update digital time
            const digitalTime = now.toLocaleTimeString();
            const digitalDisplay = document.getElementById('digitalTime');
            if (digitalDisplay) digitalDisplay.textContent = digitalTime;
        }

        // Simple calendar functionality
        const currentDate = new Date();
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();

        function generateCalendar() {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            
            document.getElementById('currentMonth').textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const today = new Date();
            
            // Get previous month days to show in current view
            const prevMonth = currentMonth === 0 ? 11 : currentMonth - 1;
            const prevYear = currentMonth === 0 ? currentYear - 1 : currentYear;
            const daysInPrevMonth = new Date(prevYear, prevMonth + 1, 0).getDate();
            
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';
            
            // Calculate total cells needed (6 rows √ó 7 days = 42 cells)
            const totalCells = 42;
            let dayCount = 1;
            let nextMonthDayCount = 1;
            
            for (let i = 0; i < totalCells; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                if (i < firstDay) {
                    // Previous month days
                    const prevMonthDay = daysInPrevMonth - firstDay + i + 1;
                    dayElement.textContent = prevMonthDay;
                    dayElement.classList.add('other-month', 'prev-month');
                    dayElement.setAttribute('data-date', `${prevYear}-${String(prevMonth + 1).padStart(2, '0')}-${String(prevMonthDay).padStart(2, '0')}`);
                } else if (dayCount <= daysInMonth) {
                    // Current month days
                    dayElement.textContent = dayCount;
                    dayElement.setAttribute('data-date', `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(dayCount).padStart(2, '0')}`);
                    
                    // Check if this is today
                    if (dayCount === today.getDate() && 
                        currentMonth === today.getMonth() && 
                        currentYear === today.getFullYear()) {
                        dayElement.classList.add('today');
                    }
                    
                    // Check if it's weekend
                    const dayOfWeek = i % 7;
                    if (dayOfWeek === 0 || dayOfWeek === 6) {
                        dayElement.classList.add('weekend');
                    }
                    
                    dayCount++;
                } else {
                    // Next month days
                    dayElement.textContent = nextMonthDayCount;
                    dayElement.classList.add('other-month', 'next-month');
                    const nextMonth = currentMonth === 11 ? 0 : currentMonth + 1;
                    const nextYear = currentMonth === 11 ? currentYear + 1 : currentYear;
                    dayElement.setAttribute('data-date', `${nextYear}-${String(nextMonth + 1).padStart(2, '0')}-${String(nextMonthDayCount).padStart(2, '0')}`);
                    nextMonthDayCount++;
                }
                
                // Add click event for date selection
                dayElement.addEventListener('click', function() {
                    // Remove previous selection
                    document.querySelectorAll('.calendar-day.selected').forEach(day => {
                        day.classList.remove('selected');
                    });
                    // Add selection to clicked day
                    this.classList.add('selected');
                    
                    // Add animation
                    this.classList.add('day-clicked');
                    setTimeout(() => this.classList.remove('day-clicked'), 300);
                });
                
                calendarGrid.appendChild(dayElement);
            }
        }

        // Event listeners
        document.getElementById('prevMonth').addEventListener('click', () => {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            generateCalendar();
        });

        document.getElementById('nextMonth').addEventListener('click', () => {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            generateCalendar();
        });

        // Add Event functionality
        document.getElementById('addEvent').addEventListener('click', function() {
            const title = document.getElementById('eventTitle').value;
            const time = document.getElementById('eventTime').value;
            const priority = document.getElementById('eventPriority').value;
            
            if (title && time) {
                // Add animation to button
                this.classList.add('btn-clicked');
                setTimeout(() => this.classList.remove('btn-clicked'), 300);
                
                // Here you would typically save the event
                alert(`Event "${title}" added for ${time} with ${priority} priority!`);
                
                // Clear inputs
                document.getElementById('eventTitle').value = '';
                document.getElementById('eventTime').value = '';
            }
        });

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            generateCalendar();
            updateClock();
            // Update clock more frequently for smooth second hand movement
            setInterval(updateClock, 100); // Update every 100ms for smooth animation
        });

        // Initialize calendar
        generateCalendar();

        // Add event functionality
        document.getElementById('addEvent').addEventListener('click', () => {
            const title = document.getElementById('eventTitle').value;
            const time = document.getElementById('eventTime').value;
            
            if (title && time) {
                const tasksContainer = document.querySelector('.today-tasks');
                const newTask = document.createElement('div');
                newTask.className = 'task-time';
                newTask.innerHTML = `
                    <span class="time">${time}</span>
                    <span class="task">${title}</span>
                `;
                tasksContainer.appendChild(newTask);
                
                // Clear inputs
                document.getElementById('eventTitle').value = '';
                document.getElementById('eventTime').value = '';
            }
        });
    </script>
</body>

</html>
